apiVersion: v1
kind: Pod
metadata:
  name: db-connector-with-secrets
spec:
  containers:
  - name: db-connector
    image: kunchalavikram/db-connector:1.0
    env:
      - name: DB_HOST
        valueFrom:
          secretKeyRef:
            name: db-secret
            key: DB_HOST
      - name: DB_USER
        valueFrom:
          secretKeyRef:
            name: db-secret
            key: DB_USER
      - name: DB_PASSWORD
        valueFrom:
          secretKeyRef:
            name: db-secret
            key: DB_PASSWORD
      - name: DATABASE
        valueFrom:
          secretKeyRef:
            name: db-secret
            key: DATABASE
  restartPolicy: Never